<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>KizBourges — Association de danse</title>

  <!-- SEO -->
  <meta name="description" content="KizBourges : cours de kizomba & urban kiz à Bourges, soirées conviviales, stages, covoiturage et adhésion en ligne. Rejoins la communauté danse !">

  <!-- <meta name="description" content="KizBourges — Apprends la kizomba et l’urban kiz à Bourges : cours hebdomadaires, soirées chaleureuses, stages, covoiturage et adhésion en ligne !"> -->
  <meta name="keywords" content="Kizomba Bourges, danse Bourges, cours kizomba, soirées kizomba, KizBourges">
  <meta name="robots" content="index,follow,max-image-preview:large">
  <link rel="canonical" href="https://kizbourges.fr/">

  <!-- Social -->
  <meta property="og:title" content="KizBourges — Association de danse">
  <meta property="og:description" content="Cours, soirées & covoiturage à Bourges. Rejoins la communauté Kizomba !">
  <meta property="og:type" content="website">
  <meta property="og:image" content="https://kizbourges.fr/Images/cover.jpeg">
  <meta property="og:url" content="https://kizbourges.fr/">
  <meta property="og:locale" content="fr_FR">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="robots" content="index,follow,max-video-preview:0">

  <!-- Security -->
<meta http-equiv="Content-Security-Policy" content="
  default-src 'self';
  script-src 'self' https://connect.facebook.net https://cdn.jsdelivr.net 'unsafe-inline';
  style-src 'self' 'unsafe-inline';
  img-src 'self' data: https://raw.githubusercontent.com https://i1.sndcdn.com https://i.scdn.co https://kivo0.github.io https://*.github.io https://*.fbcdn.net;
  font-src 'self' data:;
  frame-src https://w.soundcloud.com https://www.helloasso.com https://connect.facebook.net;
  connect-src 'self' https://api.soundcloud.com;
  media-src 'self' https://w.soundcloud.com;
  upgrade-insecure-requests;
">


  <!-- Icons / PWA -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- Your CSS -->
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="Images/logo2.jpeg">

  <style>
    :root{
      --elev-2: 0 12px 28px rgba(0,0,0,.11);
      --elev-3: 0 18px 40px rgba(0,0,0,.14);
      --ease: cubic-bezier(.2,.8,.2,1);
      --brand:#111; --nav-bg:#fff; --nav-border:#eaeaea;
      --kb-accent: linear-gradient(90deg,#ff2d55,#ff7a00,#8a2be2);
      --kb-glow: 0 10px 30px rgba(255,45,85,.25);
    }
    html.ha-open, body.ha-open{ overflow:hidden; }

    /* ===== HEADER / NAV ===== */
    .site-header{ position:sticky; top:0; z-index:50; background:var(--nav-bg);
      transition:box-shadow .25s ease, backdrop-filter .25s ease; backdrop-filter:saturate(1) blur(0px);}
    .site-header.scrolled{ box-shadow:0 6px 18px rgba(0,0,0,.06); backdrop-filter:saturate(1.05) blur(6px); }
    .site-header .container{ position:relative; display:flex; align-items:center; justify-content:space-between; padding:10px 16px; }
    .logo-img{ height:44px; width:auto; display:block; }

    .nav{ display:flex; gap:18px; align-items:center; }
    .nav a{ position:relative; display:inline-block; color:var(--brand); text-decoration:none; padding:6px 2px;
      transition: color .2s ease, letter-spacing .2s ease; }
    .nav a::after{ content:""; position:absolute; left:0; bottom:0; height:2px; width:0; background:var(--kb-accent);
      transition: width .32s ease; opacity:.8; }
    .nav a::after{ background:linear-gradient(90deg,#ff2d55,#ff7a00,#8a2be2); opacity:.9; }

    .nav a:hover{ letter-spacing:.2px; } .nav a:hover::after, .nav a:focus-visible::after{ width:100%; }

    #menu{ --bar-w:22px; --bar-h:2px; --gap:5px; width:40px; height:34px; border:1px solid #ddd; border-radius:10px; background:#fff;
      cursor:pointer; display:none; align-items:center; justify-content:center; }
    #menu .bars{ position:relative; width:var(--bar-w); height:calc(var(--bar-h)*3 + var(--gap)*2); }
    #menu .bar{ position:absolute; left:0; right:0; height:var(--bar-h); background:#222; border-radius:2px;
      transition: transform .25s ease, top .25s ease, opacity .2s ease; }
    #menu .bar:nth-child(1){ top:0; } #menu .bar:nth-child(2){ top:calc(var(--bar-h)+var(--gap)); }
    #menu .bar:nth-child(3){ top:calc(var(--bar-h)*2 + var(--gap)*2); }
    #menu.open .bar:nth-child(1){ top:calc(var(--bar-h)+var(--gap)); transform:rotate(45deg); }
    #menu.open .bar:nth-child(2){ opacity:0; }
    #menu.open .bar:nth-child(3){ top:calc(var(--bar-h)+var(--gap)); transform:rotate(-45deg); }

    @media (max-width:768px){
      #menu{ display:flex; }
      #header .nav{
        position:absolute; left:0; right:0; top:100%; background:var(--nav-bg); border-top:1px solid var(--nav-border);
        display:block !important; padding:10px 16px; max-height:0; overflow:hidden;
        opacity:0; transform:translateY(-12px); visibility:hidden; pointer-events:none;
        transition:max-height .32s var(--ease), opacity .28s var(--ease), transform .28s var(--ease), visibility 0s linear .28s;
        box-shadow:0 10px 30px rgba(0,0,0,.06);
      }
      #header[data-menu="open"] .nav{
        max-height:80vh; opacity:1; transform:translateY(0); visibility:visible; pointer-events:auto;
        transition:max-height .38s var(--ease), opacity .32s var(--ease), transform .32s var(--ease);
      }
      #header .nav a{ display:block; padding:10px 0; }
    }

    /* ===== Visuals & Motion ===== */
    @media (prefers-reduced-motion:no-preference){
      .btn{ transition: transform .32s ease, box-shadow .32s ease; }
      .btn:hover{ transform:translateY(-4px); box-shadow:var(--elev-2); }
      .card{ transition: transform .35s ease, box-shadow .35s ease, border-color .35s ease; }
      .card:hover{ transform:translateY(-6px); box-shadow:var(--elev-3), var(--kb-glow); border-color: rgba(255,45,85,.25); }
      .events-carousel, .soundcloud-carousel{ touch-action: pan-y; }
      .ev-card{ transition: transform .48s ease, opacity .48s ease; }
      .ev-card.swipe-left{ transform:translateX(-30px); opacity:.86; }
      .ev-card.swipe-right{ transform:translateX(30px); opacity:.86; }
      #ev-img{ transition: opacity .70s ease, transform 3s ease; will-change: transform; }
      #ev-img:hover{ transform: scale(1.05); transition: transform 3s ease; }
      .hero-inner{ will-change: transform; transition: transform .6s ease; }
      .hero:hover .hero-inner{ transform: translateY(-2px); }
    }
    @media (prefers-reduced-motion:reduce){ *{animation:none!important; transition:none!important;} }

    /* HelloAsso modal */
    .ha-overlay{ position:fixed; inset:0; z-index:999; background:rgba(0,0,0,.5);
      opacity:0; pointer-events:none; display:flex; align-items:center; justify-content:center; transition:opacity .25s ease; }
    .ha-dialog{ width:min(960px, 96vw); height:min(88dvh, 900px); background:#fff; border-radius:14px; box-shadow:0 30px 80px rgba(0,0,0,.25);
      opacity:0; transform:scale(.98); transition: transform .28s ease, opacity .28s ease; display:flex; flex-direction:column; overflow:hidden; }
    .ha-open .ha-overlay{ opacity:1; pointer-events:auto; }
    .ha-open .ha-dialog{ opacity:1; transform:scale(1); }
    .ha-header{ position:sticky; top:0; z-index:1; display:flex; align-items:center; justify-content:space-between; padding: calc(10px + env(safe-area-inset-top)) 14px 10px; background:#fff; border-bottom:1px solid #eee; }
    .ha-title{ font-size:1.05rem; font-weight:600; margin:0; }
    .ha-close{ border:1px solid #ddd; background:#fff; border-radius:10px; padding:6px 10px; cursor:pointer; }
    .ha-body{ position:relative; flex:1; padding-bottom: env(safe-area-inset-bottom); }
    .ha-iframe{ width:100%; height:100%; border:0; display:block; }
    .ha-loader{ position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-size:.95rem; color:#555; background:#fff; }
    .ha-fallback{ position:absolute; right:12px; bottom:12px; font-size:.9rem; }

    /* UI polish */
    .btn{ display:inline-block; background:#111; color:#fff; padding:10px 16px; border-radius:999px; text-decoration:none; box-shadow:0 6px 16px rgba(0,0,0,.08); position:relative; overflow:hidden; }
    .btn.alt{ background:#fff; color:#111; border:1px solid #eee; }
    .btn:active{ transform:translateY(1px); }
    .section{ padding:56px 0; position:relative; }
    .section.alt{ background:linear-gradient(180deg,#fafafa, #fff 60%); }
    .cards{ display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:16px; }
    .card{ background:#fff; border:1px solid #eee; border-radius:16px; padding:18px; position:relative; overflow:hidden; }
    .card::after{ content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 0%, rgba(17,17,17,.03) 40%, transparent 80%); transform:translateX(-120%); }
    @media (prefers-reduced-motion:no-preference){ .card:hover::after{ animation: shine 1.2s forwards; } }
    @keyframes shine{ to{ transform:translateX(120%);} }

    /* Page extras: progress bar, hero entry, button glow ripple */
    #scrollbar{ position:fixed; inset:0 auto auto 0; height:3px; width:100%; transform-origin:left center; transform:scaleX(0); background:linear-gradient(90deg,#111,#f06,#0cf); z-index:1000; }
    @media (prefers-reduced-motion:no-preference){ #scrollbar{ transition: transform .15s linear; } }
    .hero.enter h1,.hero.enter p,.hero.enter .cta-row{ opacity:0; animation: fadeUp .7s var(--ease) var(--d,0s) both; }
    @keyframes fadeUp{ from{ opacity:0; transform:translateY(12px);} to{ opacity:1; transform:none; } }
    .btn::before{ content:""; position:absolute; inset:0; background:radial-gradient(140px 140px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.35), transparent 60%); opacity:0; pointer-events:none; }
    @media (prefers-reduced-motion:no-preference){ .btn:hover::before{ opacity:1; transition: opacity .28s ease; } }
    .btn .ripple{ position:absolute; border-radius:50%; transform: translate(-50%,-50%) scale(0); opacity:.35; background:currentColor; pointer-events:none; }
    @media (prefers-reduced-motion:no-preference){ .btn .ripple{ animation: ripple .6s ease-out forwards; } }
    @keyframes ripple{ to{ transform: translate(-50%,-50%) scale(16); opacity:0; } }

    /* Floating donate button */
    #donate-fab{ position:fixed; right:18px; bottom:18px; z-index:999; display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; background:#111; color:#fff; box-shadow:0 10px 30px rgba(0,0,0,.2); border:1px solid rgba(0,0,0,.2); text-decoration:none; transform:translateY(16px) scale(.98); opacity:0; }
    #donate-fab svg{ width:18px; height:18px; }
    @media (prefers-reduced-motion:no-preference){ #donate-fab.show{ opacity:1; transform:none; transition: transform .28s var(--ease), opacity .28s var(--ease); } }

    /* Accessiblity niceties */
    /* .reveal{ opacity:1 !important; transform:none !important; } */

    /* Reveal-in: bigger but smooth */
.reveal{ opacity:0; transform:translateY(24px) scale(.98); will-change:opacity,transform; }
.reveal.in{ opacity:1; transform:none; transition:opacity .72s cubic-bezier(.2,.8,.2,1), transform .72s cubic-bezier(.2,.8,.2,1); }

/* Extra effects per-section (opt-in) */
.reveal[data-effect="flip"]{ transform:rotateX(6deg) translateY(30px); transform-origin:50% 80%; opacity:.001; }
.reveal.in[data-effect="flip"]{ transform:none; opacity:1; transition:transform .8s var(--ease),opacity .8s var(--ease); }

.reveal[data-effect="zoom"]{ transform:scale(.94); opacity:.001; }
.reveal.in[data-effect="zoom"]{ transform:none; opacity:1; transition:transform .75s var(--ease),opacity .75s var(--ease); }

/* Header gradient glow */
.site-header::after{
  content:""; position:absolute; left:0; right:0; bottom:-1px; height:2px;
  background:linear-gradient(90deg,#ff2d55,#ff7a00,#8a2be2,#0cf,#ff2d55);
  background-size:300% 100%; opacity:.85; transform:scaleX(0); transform-origin:left;
}
.site-header.scrolled::after{ transform:scaleX(1); animation:kb-glow 7s linear infinite; }
@keyframes kb-glow{ 0%{background-position:0 0}100%{background-position:300% 0} }

/* Card 3D hover (add class="tilt" to any card) */
.tilt{transform-style:preserve-3d; perspective:900px;}
@media (prefers-reduced-motion:no-preference){
  .tilt:hover{ transition:transform .18s ease; }
}

    
    :target{ scroll-margin-top: 72px; }

.hero{
  background-position: center 90%; /
/* (optional) since the header got taller visually, nudge anchor offset a bit */
:target{ scroll-margin-top: 76px; }   /* was 72px */

  </style>
</head>

<body>
  <div id="scrollbar" aria-hidden="true"></div>
  <script>document.documentElement.classList.add('js');</script>
  <a href="#main" class="skip-link">Aller au contenu</a>
  <style>
    .skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;}
    .skip-link:focus{left:10px;top:10px;width:auto;height:auto;padding:8px 12px;background:#000;color:#fff;border-radius:6px;z-index:9999;}
    :focus-visible{ outline: 3px solid #222; outline-offset: 2px; }
  </style>

  <main id="main">
    <div id="fb-root"></div>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/fr_FR/sdk.js#xfbml=1&version=v19.0" nonce="kizbourges"></script>

    <!-- Header -->
    <header class="site-header" id="header" data-menu="closed">
      <div class="container">
        <a class="logo" href="/" aria-label="KizBourges">
          <img src="Images/logo2.jpeg" alt="Logo KizBourges" class="logo-img">
        </a>

        <!-- Hamburger -->
        <button id="menu" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="nav">
          <span class="bars" aria-hidden="true">
            <span class="bar"></span><span class="bar"></span><span class="bar"></span>
          </span>
        </button>

        <nav id="nav" class="nav" aria-label="Navigation principale">
          <a href="#asso">L’asso</a>
          <a href="cours.html">Cours & tarifs</a>
          <a href="#events">Événements</a>
          <a href="#covoit">Covoiturage</a>
          <a href="#son">Ambiance</a>
          <a class="ha-open" href="https://www.helloasso.com/associations/amigos-latino/adhesions/kiz-bourges-2025-2026">Adhésion</a>
          <a class="ha-donate" href="https://www.helloasso.com/associations/amigos-latino/formulaires/1">Don</a>
          <a href="#contact">Contact</a>
        </nav>
      </div>
    </header>

    <!-- Hero -->
    <section class="hero reveal">
      <div class="container hero-inner">
        <h1>Bienvenue chez KizBourges</h1>
        <p>Kizomba, urban kiz & good vibes à Bourges ✨</p>
        <div class="cta-row">
          <a class="btn ha-open" href="https://www.helloasso.com/associations/amigos-latino/adhesions/kiz-bourges-2025-2026">Adhérer</a>
          <a class="btn alt" href="#events">Prochaines soirées</a>
          <a class="btn alt ha-donate" href="https://www.helloasso.com/associations/amigos-latino/formulaires/1">Faire un don</a>
        </div>
      </div>
    </section>

    <div class="page" role="main">
      <!-- Association -->
      <section id="asso" class="section reveal">
        <div class="container">
          <h2>L’association</h2>
          <p>KizBourges promeut la Kizomba à Bourges :  hebdomadaires, stages et soirées sociales ouvertes à tous niveaux.</p>
        </div>
      </section>

      <!-- Cours & tarifs -->
      <section id="cours" class="section alt reveal">
        <div class="container">
          <h2>Cours & tarifs</h2>
          <ul class="cards" role="list">
            <li class="card">
              <h3>Tous niveaux</h3>
              <p><strong>Quand :</strong> Mardi 20h–21h15</p>
              <p><strong>Où :</strong> Salle Baptiste Marcet, 2 Rue Parmentier, 18000 Bourges</p>
              <p><strong>Tarif :</strong> 10€ / cours ou 150€ / année</p>
              <p><strong>Video</strong> <a class="btn alt" href="/video.html">Regarder la vidéo</a></p>
            </li>
            <li class="card">
              <h3>Pratique — Tous niveaux</h3>
              <p><strong>Quand :</strong> Mardi 21h15–22h15</p>
              <p><strong>Où :</strong> Salle Baptiste Marcet, 2 Rue Parmentier, 18000 Bourges</p>
              <p>Inclus dans l’adhésion — selon planning.</p>
            </li>

            <!-- Video promo card -->
            <li class="card course-ad">
              <div class="video-grid">
                <div class="copy">
                  <h3>Découvre la Kizomba en 60 secondes</h3>
                  <p>Ambiance, pas de base, bonne vibe — tout ce que tu verras au cours ✨</p>
                  <div class="cta-row" style="margin-top:8px;">
                    <a class="btn ha-open" href="https://www.helloasso.com/associations/amigos-latino/adhesions/kiz-bourges-2025-2026">S’inscrire / Adhérer</a>
                    <a class="btn alt" href="#events">Voir les prochaines dates</a>
                  </div>
                </div>

                <div class="media">
                 <!-- Homepage / cours.html video tag -->
<video
  id="courseAdVideo"
  class="course-video"
  playsinline
  muted
  loop
  controls
  preload="metadata"
  poster="Images/course-poster.jpg"
  data-nosnippet
>
  <source src="Videos/course-ad.mp4" type="video/mp4">
</video>

                </div>
              </div>
            </li>
          </ul>
        </div>
      </section>

      <!-- Événements -->
      <section id="events" class="section reveal">
        <div class="container">
          <h2>Événements à venir</h2>

          <div class="events-carousel" style="max-width:900px;margin:auto;position:relative;">
            <button id="ev-prev" aria-label="Événement précédent" class="ev-arrow"
              style="position:absolute;left:-8px;top:50%;transform:translateY(-50%);font-size:28px;cursor:pointer;border:none;background:transparent;">‹</button>

            <div class="ev-card" id="ev-card" style="padding:0 28px;text-align:center;">
              <a id="ev-link" href="#" target="_blank" rel="noopener" style="text-decoration:none;color:inherit;display:inline-block;">
                <img id="ev-img" src="" alt="Affiche de l’événement"
                     loading="lazy"
                     style="width:100%;max-height:720px; object-position:center;object-fit:cover;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,.15);" />
                <h3 id="ev-title" style="margin:10px 0 6px;"></h3>
                <p id="ev-when" style="margin:0;color:#555;"></p>
                <p id="ev-where" style="margin:2px 0 0;color:#777;font-size:14px;"></p>
              </a>
              <div id="ev-cta" style="margin-top:10px;"></div>
            </div>

            <button id="ev-next" aria-label="Événement suivant" class="ev-arrow"
              style="position:absolute;right:-8px;top:50%;transform:translateY(-50%);font-size:28px;cursor:pointer;border:none;background:transparent;">›</button>
          </div>
          <div id="ev-dots" style="text-align:center;margin-top:12px;"></div>
          <div id="ev-list" class="cards" role="list" style="margin-top:22px;"></div>
        </div>
      </section>

      <!-- Covoiturage -->
      <section id="covoit" class="section alt reveal">
        <div class="container">
          <h2>Covoiturage</h2>
          <p>Tu vas à une soirée ou un stage ? Propose ou cherche une place :</p>
          <div class="cta-row" style="gap:10px; flex-wrap:wrap;">
            <a class="btn" href="https://forms.gle/SpdXLDX815FWxpan6" target="_blank" rel="noopener">Remplir le formulaire</a>
            <a class="btn" href="#" aria-disabled="true" onclick="return false;" style="opacity:.55; cursor:not-allowed;" title="Lien WhatsApp bientôt disponible">Groupe WhatsApp (bientôt)</a>
          </div>
        </div>
      </section>

      <!-- Ambiance / SoundCloud -->
      <section id="son" class="section reveal">
        <div class="container">
          <h2>Ambiance musicale</h2>
          <p>Fais défiler nos playlists avec les flèches ou un swipe :</p>

          <div class="soundcloud-carousel" style="max-width:820px;margin:auto;position:relative;">
            <button id="sc-prev" aria-label="Playlist précédente" class="sc-arrow"
              style="position:absolute;left:-8px;top:50%;transform:translateY(-50%);font-size:28px;cursor:pointer;border:none;background:transparent;">‹</button>

            <div class="sc-player" style="padding:0 28px;">
              <h3 id="sc-title" style="text-align:center;margin-bottom:8px;">Kizomba – N°1</h3>
              <iframe id="sc-player" title="Playlist SoundCloud KizBourges"
                width="100%" height="450" scrolling="no" frameborder="0" allow="autoplay"
                src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/152611885&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true">
              </iframe>
            </div>

            <button id="sc-next" aria-label="Playlist suivante" class="sc-arrow"
              style="position:absolute;right:-8px;top:50%;transform:translateY(-50%);font-size:28px;cursor:pointer;border:none;background:transparent;">›</button>
          </div>
        </div>
      </section>

      <!-- Contact -->
      <section id="contact" class="section alt reveal">
        <div class="container">
          <h2>Contact</h2>
          <p>Téléphone : <a href="tel:+33617238400" aria-label="Appeler le 06 17 23 84 00">06&nbsp;17&nbsp;23&nbsp;84&nbsp;00</a></p>
          <p>Email : <a href="mailto:kizbourges@gmail.com">kizbourges@gmail.com</a></p>
          <p>Instagram : <a href="https://www.instagram.com/kizbourges?igsh=MTQyNW9udjh6Ym5raw==" target="_blank" rel="noopener">@kizbourges</a></p>
          <p>Facebook : <a href="https://www.facebook.com/KizBourges" target="_blank" rel="noopener">KizBourges</a></p>
          <div style="margin-top:24px;text-align:center;">
            <img src="Images/logo2.jpeg" alt="Amigos Latino — Partenaire KizBourges" style="max-width:200px;display:inline-block;">
            <div style="font-size:14px;color:#666;margin-top:6px;">Partenaire — Amigos Latino</div>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="site-footer">
      <div class="container">© <span id="year"></span> KizBourges — Tous droits réservés</div>
    </footer>

    <!-- HelloAsso modal (overlay + dialog) -->
    <div class="ha-overlay" id="haOverlay" aria-hidden="true">
      <div class="ha-dialog" id="haDialog" role="dialog" aria-modal="true" aria-labelledby="haTitle" aria-describedby="haDesc" aria-hidden="true">
        <div class="ha-header">
          <h3 id="haTitle" class="ha-title">Adhésion KizBourges</h3>
          <button class="ha-close" id="haClose" aria-label="Fermer la fenêtre">✕</button>
        </div>
        <div class="ha-body" id="haDesc">
          <div class="ha-loader" id="haLoader">Chargement du module d’adhésion…</div>
          <iframe id="haFrame" class="ha-iframe" title="Formulaire d’adhésion HelloAsso"
            loading="eager" allow="payment *; fullscreen *" referrerpolicy="no-referrer-when-downgrade"></iframe>
          <div class="ha-fallback" id="haFallback">
            Problème d’affichage ? <a id="haNewTab" href="#" target="_blank" rel="noopener">Ouvrir dans un nouvel onglet</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Libraries -->
    <script defer src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

    <!-- Scripts -->
    <script>
      /* ===== Constants ===== */
      const HELLOASSO_PUBLIC = "https://www.helloasso.com/associations/amigos-latino/adhesions/kiz-bourges-2025-2026";
      const HELLOASSO_WIDGET = HELLOASSO_PUBLIC + "/widget";
      const HELLOASSO_DON_PUBLIC = "https://www.helloasso.com/associations/amigos-latino/formulaires/1";
      const HELLOASSO_DON_WIDGET = HELLOASSO_DON_PUBLIC + "/widget";

      /* Sticky header shadow */
      (function(){
        const h = document.getElementById('header');
        if(!h) return;
        const onScroll = () => h.classList.toggle('scrolled', window.scrollY > 6);
        onScroll(); window.addEventListener('scroll', onScroll, {passive:true});
      })();

      /* Mobile menu */
      (function(){
        const header = document.getElementById('header');
        const btn = document.getElementById('menu');
        const nav = document.getElementById('nav');
        if(!header || !btn || !nav) return;
        header.setAttribute('data-menu','closed'); btn.classList.remove('open'); btn.setAttribute('aria-expanded','false');
        const isOpen = () => header.getAttribute('data-menu') === 'open';
        const toggle = (force) => {
          const open = (typeof force === 'boolean') ? force : !isOpen();
          header.setAttribute('data-menu', open ? 'open' : 'closed');
          btn.classList.toggle('open', open); btn.setAttribute('aria-expanded', open ? 'true' : 'false');
        };
        btn.addEventListener('click', () => toggle());
        nav.addEventListener('click', (e)=>{ if (e.target.closest('a')) toggle(false); });
        document.addEventListener('click', (e)=>{ if (isOpen() && !e.target.closest('#header')) toggle(false); });
        document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') toggle(false); });
        window.addEventListener('resize', ()=>{ if (window.innerWidth > 768) toggle(false); });
      })();

      /* Footer year */
      (function(){
        const y = document.getElementById('year');
        if (y && !y.textContent) y.textContent = new Date().getFullYear();
      })();

      /* ===== HelloAsso Modal (widget URL + Don) ===== */
      (function(){
        const overlay = document.getElementById('haOverlay');
        const dialog  = document.getElementById('haDialog');
        const frame   = document.getElementById('haFrame');
        const loader  = document.getElementById('haLoader');
        const closeB  = document.getElementById('haClose');
        const newTab  = document.getElementById('haNewTab');
        const titleEl = document.getElementById('haTitle');

        let lastFocus = null;
        let loadTimer = null;

        function openHA(url, title){
          document.documentElement.classList.add('ha-open');
          document.body.classList.add('ha-open');
          overlay.setAttribute('aria-hidden','false');
          dialog.setAttribute('aria-hidden','false');

          lastFocus = document.activeElement;
          closeB.focus();

          newTab.href = (url || HELLOASSO_WIDGET).replace('/widget','');
          titleEl.textContent = title || 'Adhésion KizBourges';

          loader.style.display = 'flex';
          frame.removeAttribute('src');
          setTimeout(()=>{ frame.src = url || HELLOASSO_WIDGET; }, 0);

          clearTimeout(loadTimer);
          loadTimer = setTimeout(()=> { loader.textContent = "Toujours en chargement…"; }, 6000);

          document.addEventListener('keydown', onKeydown);
          overlay.addEventListener('click', onOverlayClick);
          trapFocus(true);
        }

        function closeHA(){
          document.documentElement.classList.remove('ha-open');
          document.body.classList.remove('ha-open');
          overlay.setAttribute('aria-hidden','true');
          dialog.setAttribute('aria-hidden','true');
          frame.removeAttribute('src');
          loader.style.display = 'none';
          clearTimeout(loadTimer);
          document.removeEventListener('keydown', onKeydown);
          overlay.removeEventListener('click', onOverlayClick);
          trapFocus(false);
          if (lastFocus) { try{ lastFocus.focus(); }catch(_){} lastFocus = null; }
        }

        function onKeydown(e){
          if (e.key === 'Escape'){ e.preventDefault(); closeHA(); }
          if (e.key === 'Tab'){ handleTabTrap(e); }
        }
        function onOverlayClick(e){ if (e.target === overlay) closeHA(); }

        function focusables(){ return dialog.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])'); }
        function handleTabTrap(e){
          const list = Array.from(focusables());
          if (!list.length) return;
          const first = list[0], last = list[list.length - 1];
          if (e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
          else if (!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
        }
        function trapFocus(enable){ if (enable){ dialog.setAttribute('tabindex','-1'); } else { dialog.removeAttribute('tabindex'); } }

        // Open via any .ha-open / .ha-donate
        document.addEventListener('click', (e)=>{
          const aOpen   = e.target.closest('a.ha-open');
          const aDonate = e.target.closest('a.ha-donate');
          if (!aOpen && !aDonate) return;
          if (e.button === 0 && !e.metaKey && !e.ctrlKey && !e.shiftKey){
            e.preventDefault();
            if (aDonate) return openHA("https://www.helloasso.com/associations/amigos-latino/formulaires/1/widget", "Faire un don");
            return openHA(HELLOASSO_WIDGET, "Adhésion KizBourges");
          }
        });

        closeB.addEventListener('click', closeHA);
        frame.addEventListener('load', ()=>{ loader.style.display = 'none'; });

        if (location.hash === '#adhesion'){ openHA(HELLOASSO_WIDGET, 'Adhésion KizBourges'); }
        if (location.hash === '#don'){ openHA("https://www.helloasso.com/associations/amigos-latino/formulaires/1/widget", "Faire un don"); }
      })();

      /* === Events CSV loader + swipe (clean original) === */
      (function(){
        const CSV_URL = 'kizbourges_events_template1.csv?v=' + Date.now();

        const img   = document.getElementById('ev-img');
        const title = document.getElementById('ev-title');
        const when  = document.getElementById('ev-when');
        const where = document.getElementById('ev-where');
        const link  = document.getElementById('ev-link');
        const cta   = document.getElementById('ev-cta');
        const prevB = document.getElementById('ev-prev');
        const nextB = document.getElementById('ev-next');
        const dots  = document.getElementById('ev-dots');
        const list  = document.getElementById('ev-list');

        let events = [], idx = 0;

        function detectDelimiter(text){
          const header = text.split(/\r?\n/,1)[0] || '';
          const semis  = (header.match(/;/g)||[]).length;
          const commas = (header.match(/,/g)||[]).length;
          return semis > commas ? ';' : ',';
        }
        function normalizeCover(url){
          if(!url) return '';
          url = url.trim();
          if (url.startsWith('/')) url = url.slice(1);
          if (/^https?:\/\/github\.com\/.+\/blob\//i.test(url)) {
            url = url.replace(/^https?:\/\/github\.com\//i,'https://raw.githubusercontent.com/').replace('/blob/','/');
          }
          if (url.startsWith('images/')) url = 'Images/' + url.slice(7);
          return url;
        }
        function fmtDate(iso){
          if(!iso) return '';
          const d = new Date(iso);
          return isNaN(d) ? '' : d.toLocaleString('fr-FR', {
            timeZone:'Europe/Paris', weekday:'short', day:'2-digit', month:'short', hour:'2-digit', minute:'2-digit'
          });
        }

        function renderCarousel(){
          if(!events.length) return;
          const ev = events[idx];

          img.style.opacity = '0';
          img.style.transform = 'scale(1.015)';
          const nextSrc = ev.cover || 'Images/cover.jpeg';
          const tmp = new Image();
          tmp.onload = () => { img.src = nextSrc; requestAnimationFrame(()=>{ img.style.opacity='1'; img.style.transform='scale(1)'; }); };
          tmp.onerror = () => { img.src = 'Images/cover.jpeg'; requestAnimationFrame(()=>{ img.style.opacity='1'; img.style.transform='scale(1)'; }); };
          tmp.src  = nextSrc;

          img.alt  = `Affiche : ${ev.name || 'Événement'}`;
          title.textContent = ev.name || 'Événement';
          when.textContent  = fmtDate(ev.start_time);
          where.textContent = ev.place?.name || ev.place || '—';
          link.href         = ev.event_url || '#';

          cta.innerHTML = '';
          if (ev.ticket_url){
            const a = document.createElement('a');
            a.href = ev.ticket_url; a.target = '_blank'; a.rel = 'noopener';
            a.className = 'btn'; a.textContent = 'Billetterie';
            cta.appendChild(a);
          }
          dots.querySelectorAll('span').forEach((dot,i)=>{
            dot.style.color = (i===idx)?'#000':'#ccc';
            dot.style.transform = (i===idx)?'scale(1.25)':'scale(1)';
          });
        }
        function renderDots(){
          dots.innerHTML = '';
          events.forEach((_, i)=>{
            const s = document.createElement('span');
            s.textContent='●';
            s.style.cursor='pointer'; s.style.margin='0 6px'; s.style.fontSize='16px';
            s.style.transition='transform .2s, color .2s';
            s.addEventListener('click', ()=>{ idx=i; renderCarousel(); });
            dots.appendChild(s);
          });
        }
        function renderList(){
          list.innerHTML='';
          events.forEach(ev=>{
            const card=document.createElement('div');
            card.className='card';
            card.style.display='grid'; card.style.gridTemplateColumns='120px 1fr';
            card.style.gap='14px'; card.style.alignItems='center';

            const pic=document.createElement('img');
            pic.onerror = () => { pic.onerror = null; pic.src = 'Images/cover.jpeg'; };
            pic.src=ev.cover||'Images/cover.jpeg';
            pic.alt=`Affiche : ${ev.name||'Événement'}`;
            pic.loading='lazy'; pic.style.width='120px'; pic.style.height='80px';
            pic.style.objectFit='cover'; pic.style.borderRadius='8px';

            const meta=document.createElement('div');
            const h3=document.createElement('h3'); h3.textContent=ev.name||'Événement';
            const p1=document.createElement('p'); p1.style.margin='4px 0'; p1.textContent=fmtDate(ev.start_time);
            const p2=document.createElement('p'); p2.style.margin='2px 0'; p2.style.color='#666'; p2.textContent=ev.place?.name||ev.place||'—';

            const row=document.createElement('div'); row.style.marginTop='6px';
            if(ev.event_url){ const a1=document.createElement('a'); a1.href=ev.event_url; a1.target='_blank'; a1.rel='noopener'; a1.className='btn alt'; a1.textContent='Détails'; row.appendChild(a1); }
            if(ev.ticket_url){ const a2=document.createElement('a'); a2.href=ev.ticket_url; a2.target='_blank'; a2.rel='noopener'; a2.className='btn'; a2.style.marginLeft='8px'; a2.textContent='Billets'; row.appendChild(a2); }

            meta.append(h3,p1,p2,row);
            card.append(pic,meta);
            list.appendChild(card);
          });
        }

        function goPrev(){ if(!events.length) return; idx=(idx-1+events.length)%events.length; renderCarousel(); }
        function goNext(){ if(!events.length) return; idx=(idx+1)%events.length; renderCarousel(); }

        document.getElementById('ev-prev').addEventListener('click', goPrev);
        document.getElementById('ev-next').addEventListener('click', goNext);
        document.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft')goPrev(); if(e.key==='ArrowRight')goNext(); });

        fetch(CSV_URL)
          .then(r => r.text())
          .then(text => {
            const delimiter = detectDelimiter(text);
            const parsed = Papa.parse(text, { header:true, skipEmptyLines:true, delimiter });
            const rows = parsed.data.map(row => {
              const o={}; for (const k in row) if (Object.hasOwn(row,k)){ const key=(k||'').trim(); const val=typeof row[k]==='string'?row[k].trim():row[k]; o[key]=val; }
              return o;
            });
            events = rows.map(r => ({
              id:r.id || r.name, name:r.name, start_time:r.start_time,
              place:r.place ? {name:r.place} : {name:''},
              cover:normalizeCover(r.cover || ''), event_url:r.event_url, ticket_url:r.ticket_url
            }))
            .filter(ev => ev.name)
            .sort((a,b)=> new Date(a.start_time||0) - new Date(b.start_time||0));

            if (!events.length) return;
            renderDots(); renderCarousel(); renderList();
            enableEventSwipe(goPrev, goNext);
          })
          .catch(err => console.error('CSV load error:', err));

        /* Swipe (timing you liked) */
        function enableEventSwipe(goPrev, goNext){
          const card = document.getElementById('ev-card');
          const anchor = document.getElementById('ev-link');
          if (!card) return;
          const TH=36, RS=90, FOLLOW=0.16, MAXT=0.5;
          let sx=0, sy=0, dx=0, dy=0, active=false, id=null, lock=null, moved=false;

          function stopClick(e){ if (moved){ e.preventDefault(); e.stopPropagation(); } }
          anchor.addEventListener('click', stopClick);

          function start(e){
            if (e.pointerType==='mouse' && e.button!==0) return;
            active=true; id=e.pointerId; sx=e.clientX; sy=e.clientY; dx=dy=0; lock=null; moved=false;
            card.classList.add('dragging'); card.setPointerCapture(id); document.body.style.userSelect='none';
          }
          function move(e){
            if (!active || e.pointerId!==id) return;
            dx=e.clientX-sx; dy=e.clientY-sy;
            if (!lock && (Math.abs(dx)>8 || Math.abs(dy)>8)) lock=(Math.abs(dx)>Math.abs(dy))?'x':'y';
            if (lock==='x'){ e.preventDefault(); moved=true; const tx=dx*FOLLOW; const tilt=Math.max(-MAXT, Math.min(MAXT, dx*0.02)); card.style.transform=`translateX(${tx}px) rotate(${tilt}deg)`; }
          }
          function end(e){
            if (!active || e.pointerId!==id) return;
            active=false; card.classList.remove('dragging'); document.body.style.userSelect='';
            const ax=Math.abs(dx), ay=Math.abs(dy);
            if (lock==='x' && ax>TH && ay<RS){
              if (dx<0){ goNext(); card.classList.add('swipe-left'); }
              else { goPrev(); card.classList.add('swipe-right'); }
              setTimeout(()=>card.classList.remove('swipe-left','swipe-right'), 460);
            }
            card.style.transition='transform .38s ease'; card.style.transform='';
            setTimeout(()=> card.style.transition='', 380);
            id=null; lock=null; moved=false;
          }
          card.addEventListener('pointerdown', start, {passive:false});
          card.addEventListener('pointermove',  move,  {passive:false});
          card.addEventListener('pointerup',    end,   {passive:false});
          card.addEventListener('pointercancel',end,   {passive:false});
          card.querySelectorAll('img,a').forEach(el=> el.addEventListener('dragstart', ev => ev.preventDefault()));
        }
      })();

      /* SoundCloud swipe */
      (function(){
        const base='https://w.soundcloud.com/player/?url=', tail='&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true';
        const playlists=[
          {title:'Kizomba – N°1', url:base+encodeURIComponent('https://api.soundcloud.com/playlists/152611885')+tail},
          {title:"Kiz'Bourges N°2", url:base+encodeURIComponent('https://api.soundcloud.com/playlists/879844930')+tail},
          {title:'Kizomba - Tarraxa', url:base+encodeURIComponent('https://api.soundcloud.com/playlists/124156830')+tail},
          {title:'Kizomba - Urban', url:base+encodeURIComponent('https://api.soundcloud.com/playlists/323224243')+tail},
          {title:'Kizomba - Douceur', url:base+encodeURIComponent('https://api.soundcloud.com/playlists/266791296')+tail},
          {title:'Kizomba - Authentik', url:base+encodeURIComponent('https://api.soundcloud.com/playlists/237162467')+tail},
          {title:'Semba Kiz’Bourges', url:base+encodeURIComponent('https://api.soundcloud.com/playlists/153330518')+tail}
        ];
        let idx=0;
        const titleEl=document.getElementById('sc-title');
        const frameEl=document.getElementById('sc-player');
        const prevBtn=document.getElementById('sc-prev');
        const nextBtn=document.getElementById('sc-next');
        const carousel=document.querySelector('.soundcloud-carousel');
        const playerWrap=document.querySelector('.sc-player');

        const indicators=document.createElement('div');
        indicators.style.textAlign='center'; indicators.style.marginTop='10px';
        playlists.forEach((pl,i)=>{ const dot=document.createElement('span'); dot.textContent='●'; dot.style.cursor='pointer'; dot.style.margin='0 6px'; dot.style.fontSize='16px'; dot.style.transition='transform .2s, color .2s'; dot.addEventListener('click', ()=>{ idx=i; render(); }); indicators.appendChild(dot); });
        carousel.appendChild(indicators);

        function updateDots(){ [...indicators.children].forEach((dot,i)=>{ if(i===idx){ dot.style.color='#000'; dot.style.transform='scale(1.3)'; } else { dot.style.color='#ccc'; dot.style.transform='scale(1)'; } }); }
        function render(){ titleEl.textContent=playlists[idx].title; if (frameEl && frameEl.src!==playlists[idx].url) frameEl.src=playlists[idx].url; updateDots(); }
        function goPrev(){ idx=(idx-1+playlists.length)%playlists.length; render(); }
        function goNext(){ idx=(idx+1)%playlists.length; render(); }

        prevBtn.addEventListener('click', goPrev);
        nextBtn.addEventListener('click', goNext);
        document.addEventListener('keydown', (e)=>{ if (e.key==='ArrowLeft') goPrev(); if (e.key==='ArrowRight') goNext(); });

        (function enableSoundSwipe(){
          if (!playerWrap) return;
          const TH=32, RS=90, FOLLOW=0.14;
          let sx=0, sy=0, dx=0, dy=0, active=false, id=null, lock=null;

          function start(e){ if (e.pointerType==='mouse' && e.button!==0) return; active=true; id=e.pointerId; sx=e.clientX; sy=e.clientY; dx=dy=0; lock=null; playerWrap.classList.add('dragging'); playerWrap.setPointerCapture(id); document.body.style.userSelect='none'; }
          function move(e){ if (!active || e.pointerId!==id) return; dx=e.clientX-sx; dy=e.clientY-sy; if (!lock && (Math.abs(dx)>8 || Math.abs(dy)>8)) lock=(Math.abs(dx)>Math.abs(dy))?'x':'y'; if (lock==='x'){ e.preventDefault(); playerWrap.style.transform=`translateX(${dx*FOLLOW}px)`; } }
          function end(e){ if (!active || e.pointerId!==id) return; active=false; playerWrap.classList.remove('dragging'); document.body.style.userSelect=''; const ax=Math.abs(dx), ay=Math.abs(dy); if (lock==='x' && ax>TH && ay<RS){ if (dx<0){ goNext(); playerWrap.classList.add('swipe-left'); } else { goPrev(); playerWrap.classList.add('swipe-right'); } setTimeout(()=> playerWrap.classList.remove('swipe-left','swipe-right'), 480); } playerWrap.style.transition='transform .36s ease'; playerWrap.style.transform=''; setTimeout(()=> playerWrap.style.transition='', 360); id=null; lock=null; }
          playerWrap.addEventListener('pointerdown', start, {passive:false});
          playerWrap.addEventListener('pointermove',  move,  {passive:false});
          playerWrap.addEventListener('pointerup',    end,   {passive:false});
          playerWrap.addEventListener('pointercancel',end,   {passive:false});
          frameEl.addEventListener('dragstart', ev => ev.preventDefault());
        })();

        render();
      })();

      /* Promo video: play/pause on view */
      (function(){
        const v = document.getElementById('courseAdVideo');
        if (!('IntersectionObserver' in window) || !v) return;
        const io = new IntersectionObserver((entries) => { for (const e of entries) { if (e.isIntersecting) v.play().catch(()=>{}); else v.pause(); } }, { threshold: 0.5 });
        io.observe(v);
      })();

      /* Reveal on scroll (fail-safe) */
      (function(){
        try{
          const els = () => Array.from(document.querySelectorAll('.reveal'));
          function run(){ els().forEach((el,i)=>{ const r = el.getBoundingClientRect(); if (r.top < window.innerHeight*0.9) { el.style.transitionDelay = (i*40)+'ms'; el.classList.add('in'); }}); }
          window.__reveal = run; run();
          window.addEventListener('scroll', run, {passive:true});
          window.addEventListener('resize', run);
        }catch(e){
          document.querySelectorAll('.reveal').forEach(el=> el.classList.add('in'));
        }
      })();
    </script>
  </main>

  <!-- Floating donate -->
  <a id="donate-fab" class="ha-donate" href="https://www.helloasso.com/associations/amigos-latino/formulaires/1" aria-label="Faire un don">
    <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 21s-7-4.438-7-10a4 4 0 0 1 7-2.645A4 4 0 0 1 19 11c0 5.562-7 10-7 10z"/></svg>
    Faire un don
  </a>

  <script>
  // Scroll progress bar
  (function(){
    const bar = document.getElementById('scrollbar');
    if (!bar) return;
    function update(){
      const h = document.documentElement;
      const max = (h.scrollHeight - window.innerHeight) || 1;
      const p = Math.min(1, Math.max(0, window.scrollY / max));
      bar.style.transform = 'scaleX(' + p + ')';
    }
    update();
    window.addEventListener('scroll', update, {passive:true});
    window.addEventListener('resize', update);
  })();

  // Mouse-follow glow for .btn
  (function(){
    function onMove(e){
      const t = e.target.closest && e.target.closest('.btn');
      if (!t) return;
      const r = t.getBoundingClientRect();
      t.style.setProperty('--mx', (e.clientX - r.left) + 'px');
      t.style.setProperty('--my', (e.clientY - r.top) + 'px');
    }
    document.addEventListener('pointermove', onMove, {passive:true});
  })();

  // Floating donate FAB show/hide
  (function(){
    const fab = document.getElementById('donate-fab');
    if (!fab) return;
    const showAt = 220;
    function toggle(){ fab.classList.toggle('show', window.scrollY > showAt); }
    toggle();
    window.addEventListener('scroll', toggle, {passive:true});
  })();

  // Smooth anchors + ripple
  (function(){
    document.addEventListener('click', function(e){
      const a = e.target.closest('a[href^="#"]');
      const btn = e.target.closest('.btn');
      if (btn){ // ripple
        try{
          const r = btn.getBoundingClientRect();
          const x = e.clientX - r.left, y = e.clientY - r.top;
          const d = Math.max(r.width, r.height);
          const span = document.createElement('span');
          span.className = 'ripple';
          span.style.left = x+'px'; span.style.top = y+'px';
          span.style.width = span.style.height = d+'px';
          btn.appendChild(span); setTimeout(()=> span.remove(), 650);
        }catch(_){}
      }
      if (!a) return;
      const id = a.getAttribute('href').slice(1);
      const el = document.getElementById(id);
      if (!el) return;
      if (location.pathname === a.pathname && location.hostname === a.hostname){
        e.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'});
        history.replaceState(null, '', '#'+id);
      }
    });
  })();

  // HelloAsso modal openers (adhésion + don)
  (function(){
    const overlay = document.getElementById('haOverlay');
    const dialog  = document.getElementById('haDialog');
    const frame   = document.getElementById('haFrame');
    const loader  = document.getElementById('haLoader');
    const closeB  = document.getElementById('haClose');
    const newTab  = document.getElementById('haNewTab');
    const titleEl = document.getElementById('haTitle');

    function openHA(url, title){
      document.documentElement.classList.add('ha-open');
      document.body.classList.add('ha-open');
      overlay.setAttribute('aria-hidden','false');
      dialog.setAttribute('aria-hidden','false');
      closeB.focus();
      newTab.href = (url || "https://www.helloasso.com/associations/amigos-latino/adhesions/kiz-bourges-2025-2026").replace('/widget','');
      titleEl.textContent = title || 'Adhésion KizBourges';
      loader.style.display = 'flex'; frame.removeAttribute('src');
      setTimeout(()=>{ frame.src = url || "https://www.helloasso.com/associations/amigos-latino/adhesions/kiz-bourges-2025-2026/widget"; }, 0);
      setTimeout(()=> { loader.textContent = "Toujours en chargement…"; }, 6000);
    }
    function closeHA(){ document.documentElement.classList.remove('ha-open'); document.body.classList.remove('ha-open'); overlay.setAttribute('aria-hidden','true'); dialog.setAttribute('aria-hidden','true'); frame.removeAttribute('src'); loader.style.display = 'none'; }
    document.addEventListener('click', (e)=>{
      const aOpen   = e.target.closest('a.ha-open');
      const aDonate = e.target.closest('a.ha-donate');
      if (!aOpen && !aDonate) return;
      e.preventDefault();
      if (aDonate) return openHA("https://www.helloasso.com/associations/amigos-latino/formulaires/1/widget", "Faire un don");
      return openHA("https://www.helloasso.com/associations/amigos-latino/adhesions/kiz-bourges-2025-2026/widget", "Adhésion KizBourges");
    });
    document.getElementById('haClose').addEventListener('click', closeHA);
    document.getElementById('haFrame').addEventListener('load', ()=>{ document.getElementById('haLoader').style.display='none'; });
  })();
  </script>
<script>
  (function(){
    const els = document.querySelectorAll('.card');
    els.forEach(el => {
      el.classList.add('tilt');
      let raf = null;
      function onMove(e){
        const r = el.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width - .5;
        const y = (e.clientY - r.top) / r.height - .5;
        if (raf) cancelAnimationFrame(raf);
        raf = requestAnimationFrame(() => {
          el.style.transform = `rotateX(${(-y*6).toFixed(2)}deg) rotateY(${(x*6).toFixed(2)}deg) translateY(-6px)`;
        });
      }
      function onLeave(){
        if (raf) cancelAnimationFrame(raf);
        el.style.transform = 'none';
      }
      el.addEventListener('pointermove', onMove);
      el.addEventListener('pointerleave', onLeave);
    });
  })();
</script>


  
</body>
</html>
